/*! For license information please see index.min.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i,n=t();for(i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(self,(function(){var e={666:function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){"string"==typeof e&&(this.el=this.ConvertToArray(document.querySelectorAll(e))),e instanceof NodeList?this.el=this.ConvertToArray(e):Array.isArray(e)&&(this.el=e),e instanceof Node&&(this.el=[e]),this.el||(this.el=[])}function n(e){return new i(e)}var r;r=window,n.prototype=i.prototype={length:function(){return this.el.length},extend:function(){var e,i,n=arguments[0]||{},r=1,o=arguments.length,c=!1;for("boolean"==typeof n&&(c=n,n=arguments[1]||{},r=2),"object"!==t(n)&&(n={}),o===r&&(n=this,--r);r<o;r++)if(null!=(e=arguments[r]))for(i in e){var a,l,s=n[i];n!==(l=e[i])&&(a=Array.isArray(l),c&&l&&("object"==t(l)||a)?(s=a?(a=!1,s&&Array.isArray(s)?s:[]):s&&"object"==t(s)?s:{},n[i]=this.extend(c,s,l)):void 0!==l&&(n[i]=l))}return n},parent:function(){var e=this.el[0];return e&&e.parentNode?n([e.parentNode]):n([])},parents:function(e){var t=this.el[0];e=void 0===e?[document]:this.ConvertToArray(document.querySelectorAll(e));var i=[];return t&&e.forEach((function(e){for(var n=t.parentNode;n!=e&&null!=n;)n=n.parentNode;null!=n&&i.push(n)})),n(i)},reverseArryToNodeList:function(e){return e},hasClass:function(e){return 0<this.el.length&&this.el[0].classList.contains(e)},attr:function(e,t){return t?(this.el.forEach((function(i){i.setAttribute(e,t)})),this):this.el[0]?this.el[0].getAttribute(e):null},find:function(e){var t=this;if(!this.el||this.el.length<=0)return n([]);if("string"!=typeof e){var i=[];return this.el.forEach((function(t){for(var n=t.querySelectorAll("*"),r=0;r<n.length;r++)n[r]==e&&i.push(e)})),n(i)}return i=[],this.el.forEach((function(n){i=i.concat(t.ConvertToArray(n.querySelectorAll(e)))})),n(i)},children:function(e){var t=this;if(!this.el||this.el.length<=0)return n([]);var i=[];Array.isArray(e)&&(i=e);var r=[];this.el.forEach((function(n){r=r.concat(t.ConvertToArray(n.children)),"string"==typeof e&&(i=i.concat(t.ConvertToArray(n.querySelectorAll(e))))}));for(var o=[],c=i.length,a=0;a<r.length;a++)for(var l=r[a],s=0;s<c;s++)if(i[s]==l){o.push(l);break}return n(o)},each:function(e){return this.el.forEach(e)},index:function(e){if(!e){for(var t=this.el[0].parentNode.childNodes,i=0;i<t.length;i++)if(t[i]==this.el[0])return i;return null}for(var n=0;n<this.el.length;n++)if(this.el[n]==e)return n},eq:function(e){return n((e=this.el[e])?this.reverseArryToNodeList([e]):this.reverseArryToNodeList([]))},get:function(e){return this.el[e]},addClass:function(t){this.el.forEach((function(i){i.classList&&(i=i.classList).add.apply(i,function(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,i){if(t){if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split(" ")))}))},nextUntil:function(e,i){var r,o=this.el[0];if(!o)return n([]);r=e?"object"==t(e)&&e instanceof Node?e:o.parentNode.querySelector(e):null;for(var c=[],a=i?"previousSibling":"nextSibling",l=o[a];l!=r&&null!=l;)c.push(l),l=l[a];return n(c)},prevAll:function(){return this.nextUntil(null,!0)},nextAll:function(){return this.nextUntil()},removeClass:function(e){return this.el.forEach((function(t){t.classList.remove(e)})),this},val:function(e){if(!e)return this.el[0].value;this.el.forEach((function(t){t.value=e}))},html:function(e){if(this.el&&this.el[0])return e?void this.el.forEach((function(t){t.innerHTML=e})):this.el[0].innerHTML},empty:function(){return this.el.forEach((function(e){e.innerHTML=""})),this},parseToDOM:function(e){var t=document.createElement("div");return"string"==typeof e&&(t.innerHTML=e),t.childNodes},ConvertToArray:function(e){var t=null;try{t=Array.prototype.slice.call(e,0)}catch(n){t=new Array;for(var i=0;i<e.length;i++)t.push(e[0])}return t},parseDomToString:function(e){},append:function(e){for(var t=this,i="string"==typeof e?(i=this.parseToDOM(e),this.ConvertToArray(i)):[e],n=0;n<i.length;n++)!function(e){var n=i[e];t.el.forEach((function(e){e.appendChild(n)}))}(n)},remove:function(){this.el.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},slideUp:function(e){this.el.forEach((function(e){e.style.display="none"}))},css:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if("object"!=t(n[0]))return 1==n.length?this.el[0].style[n[0]]:2==n.length?(this.el.forEach((function(e){e.style[n[0]]=n[1]})),this):void 0;for(var o in n[0])!function(t){e.el.forEach((function(e){e.style[t]=n[0][t]}))}(o);return this},fadeOut:function(e){var t=this;this.el.forEach((function(i){t.animate({opacity:0},e,i,(function(){i.style.display="none"}))}))},fadeIn:function(e){var t=this;this.el.forEach((function(i){i.style.display="block",t.animate({opacity:1},e,i)}))},animate:function(e,t,i,n){var o,c=(t=t||300)/50,a=0,l={};for(o in e)isNaN(parseFloat(e[o]))||(l[o]={init:parseFloat(i.style[o])||0,unit:String(e[o]).substring(String(parseFloat(e[o])).length)});var s=r.setInterval((function(){for(var t in l)i.style[t]=c<=a?e[t]:(parseFloat(e[t])-l[t].init)*a/c+l[t].init+l[t].unit;c<=a&&("function"==typeof n&&n(),r.clearInterval(s)),a++}),20)},outerWidth:function(){return this.el[0].offsetWidth},outerHeight:function(){return this.el[0].offsetHeight},hide:function(){return this.el.forEach((function(e){e.style.display="none"})),this},show:function(){return this.el.forEach((function(e){e.style.display="block"})),this},position:function(){return{top:this.el[0].offsetTop,left:this.el[0].offsetLeft}},not:function(e){return this.el=this.el.filter((function(t){return t!=e})),this}},n.extend=n.prototype.extend,r.XNQuery=n}},t={};function i(n){var r=t[n];return void 0!==r||(r=t[n]={exports:{}},e[n](r,r.exports,i)),r.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return function(){"use strict";var e,t,r;function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=i){var n,r,o=[],c=!0,a=!1;try{for(i=i.call(e);!(c=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){a=!0,r=e}finally{try{c||null==i.return||i.return()}finally{if(a)throw r}}return o}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e,i){"string"==typeof e&&(e=document.querySelector(e)),r.value=e.dataset.value||e.value||r.value,this.element=e,this.$element=t(e),this.id=this.getRandomString(),this.settings=t.extend({},r,i),this.injectCss(),this.updateMode(this.settings.value),this.createClickableControl()}i.r(n),i(666),e=window,t=XNQuery,r={value:"#ffffff"},l.prototype={getChecked:function(e){return this.one(e,":checked")},one:function(e,t){return[].filter.call(e,(function(e){return e.matches(t)}))[0]},colourToHex:function(e){if(e){var t=e;return(t=-1!==e.indexOf("rgb")?"#"+((1<<24)+((e=o(e.substring(e.indexOf("(")+1,e.lastIndexOf(")")).split(",").map(Number),3))[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1):t).substr(0,7)}},hexToRgb:function(e,t){return 1<(t=void 0===t?1:t)&&(t/=100),t<0&&(t=0),"rgba("+[(e=o(e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,n){return"#"+t+t+i+i+n+n})).substring(1).match(/.{2}/g).map((function(e){return parseInt(e,16)})),3))[0],e[1],e[2],t].join(",")+")"},getAlpha:function(e){return 0!==e.indexOf("rgba")?1:((e=o(e.substring(e.indexOf("(")+1,e.lastIndexOf(")")).split(",").map(Number),4))[0],e[1],e[2],e[3])},getContrast:function(e,t,i,n){return 186<.299*e+.587*t+.114*i+255*(1-(n=n||1))?"#000000":"#FFFFFF"},replaceAll:function(e,t,i){for(var n=[],r={},o=0;o<t.length;o++)n.push(t[o].replace(/([-[\]{}()*+?.\\^$|#,])/g,"\\$1")),r[t[o]]=i[o];return n=n.join("|"),e.replace(new RegExp(n,"g"),(function(e){return r[e]}))},getRandomString:function(e){e=e||8;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz",i=t.length,n="",r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*i));return n},createClickableControl:function(){var e=this;"INPUT"!==this.element.nodeName||"text"!==this.element.type&&"color"!==this.element.type?(this.previewElement=document.createElement("input"),this.previewElement.type="text",this.$element.empty().append(this.previewElement)):(this.previewElement=this.element,this.previewElement.type="text"),this.previewElement.classList.add("cpicker-preview-element"),this.updatePreview(this.settings.value),this.previewElement.onclick=function(t){e.toggleColourPicker()}},toggleColourPicker:function(e){(function(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()})(document.querySelectorAll(".cpicker-container:not(#".concat(this.id,")"))).forEach((function(e){e.setAttribute("hidden",!0)})),this.controlSurface||this.createControlSurface(),!this.controlSurface.hasAttribute("hidden")||e?this.controlSurface.setAttribute("hidden",!0):this.controlSurface.removeAttribute("hidden")},injectCss:function(){var e;document.querySelector('link[id="cpicker"]')||((e=document.createElement("link")).id="cpicker",e.href="data:text/css;base64,".concat(btoa(".cpicker-container {color:black} .cpicker-container input[type=color]{cursor:pointer}.cpicker-container input[type=color i],.cpicker-container input[type=color i]::-webkit-color-swatch,.cpicker-container input[type=color i]::-webkit-color-swatch-wrapper{padding:0;border-color:#fff;border-radius:5px}.cpicker-radio{display:flex;justify-content:space-evenly}.cpicker-radio>div{vertical-align:middle}.cpicker-radio>div:not(:last-of-type){margin-right:1px}.cpicker-radio input[type=radio]{position:absolute;left:-9999px}.cpicker-radio input[type=radio]+label{background-color:#fff;color:#369;border-radius:3px;padding:.25rem .5rem;transition:background-color .3s,color .3s}.cpicker-radio input[type=radio]:checked+label{background-color:#369;color:#fff}.cpicker-mode-gradient .cpicker-flex{align-items:stretch}.cpicker-row>span{margin:.5rem 0;display:block}.cpicker-modeswitch{padding:5px 0;border-bottom:1px solid #ccc}.cpicker-preview-element{width:32px;height:32px;border:1px solid #ccc;box-shadow:0 0 3px rgba(0,0,0,.2);cursor:pointer}.cpicker-container{position:absolute;width:280px;background-color:#fff;box-shadow:0 3px 6px rgba(0,0,0,.2);padding:5px}.cpicker-container>div{margin-bottom:5px}.cpicker-image-preview{vertical-align:middle;width:100px;min-height:56.25px;background-color:#f8f8f8}.cpicker-flex-between{justify-content:space-between;align-items:center}.cpicker-flex,.cpicker-flex-1{display:flex}.cpicker-checkers,.cpicker-img-preview{background:url(data:image/png;base64,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ICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDo3N0FERkY4MUNCOTcxMUUzQjE5OTk3MzZFOUEzNURDRjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDo3N0FERkY4MkNCOTcxMUUzQjE5OTk3MzZFOUEzNURDRjwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDo3N0FERkY4NENCOTcxMUUzQjE5OTk3MzZFOUEzNURDRjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo3N0FERkY4M0NCOTcxMUUzQjE5OTk3MzZFOUEzNURDRjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CvRWRVUAAAAySURBVDgRY/wPBAx4wKFDh/DIMjAw4ZUlQnLUgMEQiCyE4tnOzg5vZI5G42CIRopjAQBajwlk46G0YgAAAABJRU5ErkJggg==)}.cpicker-img-preview{width:5rem;height:3rem;object-fit:contain;border-radius:3px;vertical-align:middle}.cpicker-controls{margin-bottom:0;padding-bottom:0}.cpicker-controls>span,.cpicker-flex-1>*,.cpicker-gradient-preview{flex:1}.cpicker-controls span>a{text-align:center;display:block;padding:.25rem;border:1px solid #ccc;background:#f8f8f8;border-radius:2px;cursor:pointer}.cpicker-controls span:first-of-type{margin-right:.25rem}.cpicker-controls,.cpicker-row:not(:first-of-type){border-top:1px solid #ccc;margin:5px 0;padding:5px 0}")),e.type="text/css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e))},destroyColourPicker:function(){var e=document.getElementById(this.id);e.parentNode.removeChild(e),this.inputs={},this.controlSurface=void 0,this.imagePreview=void 0,this.gradientPreview=void 0},createControlSurface:function(){var e=document.createRange().createContextualFragment("\n<div class='cpicker-container' hidden id='".concat(this.id,"'>\n    <div class='cpicker-modeswitch cpicker-radio'>\n        <div><input type='radio' name='cpicker-mode' value='solid' id='").concat(this.id,"a' checked><label for='").concat(this.id,"a'>Solid</label></div>\n        <div><input type='radio' name='cpicker-mode' value='gradient' id='").concat(this.id,"b'><label for='").concat(this.id,"b'>Gradient</label></div>\n        <div><input type='radio' name='cpicker-mode' value='image' id='").concat(this.id,"c'><label for='").concat(this.id,"c'>Image</label></div>\n    </div>\n    <div class='cpicker-mode-solid'>\n        <div class='cpicker-flex cpicker-flex-between'>\n            <label>Colour: <input type='color' value='#ffcc33' name='cpicker-single'></label>\n            <label>Opacity: <input type='number' value='100' name='cpicker-single-opacity' min='0' max='100' step='5'></label>\n        </div>\n    </div>\n    <div class='cpicker-mode-gradient'>\n        <div class='cpicker-flex cpicker-checkers'>\n            <input type='color' value='#000000' name='cpicker-from' title='Start colour'>\n            <div class='cpicker-gradient-preview'><span/></div>\n            <input type='color' value='#ffffff' name='cpicker-to' title='End colour'>\n        </div>\n        <div class='cpicker-row cpicker-flex cpicker-flex-between'>\n            <input type='number' value='100' name='cpicker-from-opacity' min='0' max='100' step='5' title='Start opacity'>\n            <input type='number' value='100' name='cpicker-to-opacity' min='0' max='100' step='5' title='End opacity'>\n        </div>\n        <div class='cpicker-row'>\n            <span>Shape:</span>\n            <div class='cpicker-radio'>\n                <div><input type='radio' name='cpicker-shape' value='linear-gradient' id='").concat(this.id,"e' checked><label for='").concat(this.id,"e'>Straight</label></div>\n                <div><input type='radio' name='cpicker-shape' value='radial-gradient' id='").concat(this.id,"d'><label for='").concat(this.id,"d'>Round</label></div>\n            </div>\n        </div>\n        <div class='cpicker-row'>\n            <span>Direction:</span>\n            <div class='cpicker-radio'>\n                <div><input type='radio' name='cpicker-direction' value='0' id='").concat(this.id,"f'><label for='").concat(this.id,"f'>&#8593;</label></div>\n                <div><input type='radio' name='cpicker-direction' value='45' id='").concat(this.id,"g'><label for='").concat(this.id,"g'>&#8599;</label></div>\n                <div><input type='radio' name='cpicker-direction' value='90' id='").concat(this.id,"h' checked><label for='").concat(this.id,"h'>&#8594;</label></div>\n                <div><input type='radio' name='cpicker-direction' value='135' id='").concat(this.id,"i'><label for='").concat(this.id,"i'>&#8600;</label></div>\n                <div><input type='radio' name='cpicker-direction' value='180' id='").concat(this.id,"j'><label for='").concat(this.id,"j'>&#8595;</label></div>\n                <div><input type='radio' name='cpicker-direction' value='225' id='").concat(this.id,"k'><label for='").concat(this.id,"k'>&#8601;</label></div>\n                <div><input type='radio' name='cpicker-direction' value='270' id='").concat(this.id,"l'><label for='").concat(this.id,"l'>&#8592;</label></div>\n                <div><input type='radio' name='cpicker-direction' value='315' id='").concat(this.id,"m'><label for='").concat(this.id,"m'>&#8598;</label></div>\n                <div><input type='radio' name='cpicker-direction' value='-1' id='").concat(this.id,"4'><label for='").concat(this.id,"4'>&#8277;</label></div>\n            </div>\n        </div>\n    </div>\n    <div class='cpicker-mode-image'>\n        <div class='cpicker-row'>\n            <img class='cpicker-img-preview'>\n            <input type=\"file\" hidden>\n            <button onclick=\"this.previousElementSibling.click()\">Upload</button>\n        </div>\n        <div class='cpicker-row'>\n            <span>Position:</span>\n            <div class='cpicker-radio'>\n                <div><input type='radio' name='cpicker-position' value='top left' id='").concat(this.id,"n'><label for='").concat(this.id,"n'>tl</label></div>\n                <div><input type='radio' name='cpicker-position' value='top center' id='").concat(this.id,"o'><label for='").concat(this.id,"o'>tc</label></div>\n                <div><input type='radio' name='cpicker-position' value='top right' id='").concat(this.id,"p'><label for='").concat(this.id,"p'>tr</label></div>\n                <div><input type='radio' name='cpicker-position' value='middle left' id='").concat(this.id,"q'><label for='").concat(this.id,"q'>ml</label></div>\n                <div><input type='radio' name='cpicker-position' value='center' id='").concat(this.id,"r' checked><label for='").concat(this.id,"r'>c</label></div>\n                <div><input type='radio' name='cpicker-position' value='middle right' id='").concat(this.id,"s'><label for='").concat(this.id,"s'>mr</label></div>\n                <div><input type='radio' name='cpicker-position' value='bottom left' id='").concat(this.id,"t'><label for='").concat(this.id,"t'>bl</label></div>\n                <div><input type='radio' name='cpicker-position' value='bottom center' id='").concat(this.id,"u'><label for='").concat(this.id,"u'>bc</label></div>\n                <div><input type='radio' name='cpicker-position' value='bottom right' id='").concat(this.id,"v'><label for='").concat(this.id,"v'>br</label></div>\n            </div>\n        </div>\n        <div class='cpicker-row'>\n            <span>Repeat:</span>\n            <div class='cpicker-radio'>\n                <div><input type='radio' name='cpicker-repeat' value='no-repeat' id='").concat(this.id,"w'><label for='").concat(this.id,"w'>None</label></div>\n                <div><input type='radio' name='cpicker-repeat' value='repeat-x' id='").concat(this.id,"x'><label for='").concat(this.id,"x'>&#8596;</label></div>\n                <div><input type='radio' name='cpicker-repeat' value='repeat-y' id='").concat(this.id,"y'><label for='").concat(this.id,"y'>&#8597;</label></div>\n                <div><input type='radio' name='cpicker-repeat' value='repeat' id='").concat(this.id,"z' checked><label for='").concat(this.id,"z'>All</label></div>\n            </div>\n        </div>\n        <div class='cpicker-row'>\n            <span>Size:</span>\n            <div class='cpicker-radio'>\n                <div><input type='radio' name='cpicker-size' value='auto' id='").concat(this.id,"1'><label for='").concat(this.id,"1'>1:1</label></div>\n                <div><input type='radio' name='cpicker-size' value='100%' id='").concat(this.id,"2'><label for='").concat(this.id,"2'>Stretch</label></div>\n                <div><input type='radio' name='cpicker-size' value='cover' id='").concat(this.id,"3' checked><label for='").concat(this.id,'3\'>Cover</label></div>\n            </div>\n        </div>\n    </div>\n    <div class=\'cpicker-controls cpicker-flex\'>\n        <span><a class="cpicker-button-cancel">Cancel</a></span>\n        <span><a class="cpicker-button-confirm">Select</a></span>\n    </div>\n</div>'));document.body.appendChild(e),this.controlSurface=document.getElementById(this.id),this.inputs={},this.inputs.single=this.controlSurface.querySelector("input[name='cpicker-single']"),this.inputs.singleo=this.controlSurface.querySelector("input[name='cpicker-single-opacity']"),this.inputs.from=this.controlSurface.querySelector("input[name='cpicker-from']"),this.inputs.fromo=this.controlSurface.querySelector("input[name='cpicker-from-opacity']"),this.inputs.to=this.controlSurface.querySelector("input[name='cpicker-to']"),this.inputs.too=this.controlSurface.querySelector("input[name='cpicker-to-opacity']"),this.inputs.shapes=this.controlSurface.querySelectorAll("input[name='cpicker-shape']"),this.inputs.directions=this.controlSurface.querySelectorAll("input[name='cpicker-direction']"),this.inputs.positions=this.controlSurface.querySelectorAll("input[name='cpicker-position']"),this.inputs.repeats=this.controlSurface.querySelectorAll("input[name='cpicker-repeat']"),this.inputs.sizes=this.controlSurface.querySelectorAll("input[name='cpicker-size']"),this.imagePreview=this.controlSurface.querySelector(".cpicker-img-preview"),this.gradientPreview=this.controlSurface.querySelector(".cpicker-gradient-preview"),this.setPosition(),this.displayMode(),this.updateFields(),this.addListeners()},setPosition:function(){var t;this.controlSurface&&(document.documentElement.clientWidth,document.documentElement.clientHeight,t=this.previewElement.getBoundingClientRect(),this.controlSurface.style.top=t.top+e.scrollY+"px",this.controlSurface.style.left=t.left+e.scrollX+t.width+"px")},updateMode:function(e){this.currentMode="solid",-1!==e.indexOf("url")?this.currentMode="image":-1!==e.indexOf("-gradient")&&(this.currentMode="gradient"),this.displayMode()},displayMode:function(){this.controlSurface&&(this.controlSurface.querySelector(".cpicker-modeswitch input[type='radio'][value='"+this.currentMode+"']").setAttribute("checked",!0),t("#"+this.id+" [class^='cpicker-mode-']").hide(),t("#"+this.id+" .cpicker-mode-"+this.currentMode).show())},updatePreview:function(e){this.previewElement.style.background=e,this.previewElement.value=e},showGradient:function(){var e=this.calculateColour(90);this.gradientPreview.style.background=e},updateFields:function(){if(this.controlSurface){var e=this.colourProperties(this.previewElement.value);switch(this.currentMode){case"solid":this.inputs.single.value=e.solid,this.inputs.singleo.value=100*e.solido;break;case"gradient":console.log(e),this.inputs.from.value=e.from||e.solid||"#000000",this.inputs.to.value=e.to||e.solid||"#ffffff",this.inputs.fromo.value=100*e.fromo,this.inputs.too.value=100*e.too,this.one(this.inputs.shapes,"[value='"+e.shape+"']").setAttribute("checked",!0),this.one(this.inputs.directions,"[value='"+e.direction+"']").setAttribute("checked",!0),this.showGradient();break;case"image":this.one(this.inputs.sizes,"[value='"+e.size+"']").setAttribute("checked",!0),this.one(this.inputs.repeats,"[value='"+e.repeat+"']").setAttribute("checked",!0),this.one(this.inputs.positions,"[value='"+e.position+"']").setAttribute("checked",!0),this.imagePreview.src=e.url}}},addListeners:function(){var e=this,t=this;this.inputs.single.addEventListener("change",(function(e){t.selectColour(e.target.value)})),this.inputs.from.addEventListener("change",(function(e){t.selectColour(e.target.value)})),this.inputs.to.addEventListener("change",(function(e){t.selectColour(e.target.value,1)})),this.controlSurface.addEventListener("change",(function(i){if(i.target&&i.target.type&&"file"===i.target.type){if(-1===i.target.files[0].type.indexOf("image/"))return;var n=new FileReader;n.onload=function(e){t.imagePreview.src=e.target.result,t.selectColour()},n.readAsDataURL(i.target.files[0])}else i.target&&i.target.type&&e.selectColour();i.target!==e.inputs.from&&i.target!==e.inputs.to&&i.target!==e.inputs.too&&i.target!==e.inputs.fromo||e.showGradient()})),this.controlSurface.addEventListener("click",(function(i){return i.stopPropagation(),"radio"===i.target.type&&"cpicker-mode"===i.target.name?(e.currentMode=i.target.value,e.displayMode()):void(i.target.classList.contains("cpicker-button-cancel")?(e.updatePreview(t.settings.value),e.toggleColourPicker()):i.target.classList.contains("cpicker-button-confirm")&&(i=e.calculateColour(),e.updatePreview(i),e.toggleColourPicker(),e.settings.callback&&e.settings.callback(i)))}))},selectColour:function(){var e=this.calculateColour();this.updatePreview(e)},colourProperties:function(e){var t="",i="",n=-1!==e.indexOf("(")?e.substring(e.indexOf("(")+1,e.lastIndexOf(")")):null;null!==n&&-1===e.indexOf("base64")&&(i=-1===n.indexOf("(")?(t=(o=n.split(",").map(Function.prototype.call,String.prototype.trim))[1],o[2]):(t=(o=n.match(/rgba?\([^\)]*\)/gi))[0],o[1]));var r=(e=this.replaceAll(e,["centre","to top","to right","to bottom","to left","middle center","center middle","left top","left middle","left bottom","center top","center center","center bottom","right top","right middle","right bottom"],["center","0","90","180","270","center","center","top left","middle left","bottom left","top center","center","bottom center","top right","middle right","bottom right"])).match(/\(?\s?(\d{1,3})deg/);(r=r&&Number(r[1]))||-1===e.indexOf("circle")||(r=-1);var o=e.includes("top left")?"top left":e.includes("middle left")?"middle left":e.includes("bottom left")?"bottom left":e.includes("top center")?"top center":e.includes("center")?"center":e.includes("bottom center")?"bottom center":e.includes("top right")?"top right":e.includes("middle right")?"middle right":e.includes("bottom right")?"bottom right":"";return{solid:0===e.indexOf("#")||0===e.indexOf("rgb")?this.colourToHex(e):"",solido:this.getAlpha(e),shape:0===e.indexOf("radial-gradient")?"radial-gradient":"linear-gradient",size:-1!==e.indexOf("cover")?"cover":-1!==e.indexOf("100%")?"100%":"auto",repeat:-1!==e.indexOf("repeat-x")?"repeat-x":-1!==e.indexOf("repeat-y")?"repeat-y":-1!==e.indexOf("repeat")?"repeat":"no-repeat",url:-1!==e.indexOf("url(")?n:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",from:this.colourToHex(t),fromo:this.getAlpha(t),to:this.colourToHex(i),too:this.getAlpha(i),position:o,direction:r}},calculateColour:function(e){var t=this.settings.value;switch(this.currentMode){case"solid":t=this.inputs.single.value,(a=this.inputs.singleo.value/100)<1&&(t=this.hexToRgb(t,a));break;case"gradient":var i=this.getChecked(this.inputs.shapes).value,n=Number(this.getChecked(this.inputs.directions).value),r=this.inputs.from.value,o=this.inputs.fromo.value/100,c=this.inputs.to.value,a=this.inputs.too.value/100;if(o<1&&(r=this.hexToRgb(r,o)),a<1&&(c=this.hexToRgb(c,a)),"radial-gradient"!==i||e)t="linear-gradient("+[(n=e||n)+"deg",r+" 1%",c+" 99%"].join(", ")+")";else{switch(n){case-1:n="circle at center";break;case 0:n="circle at top center";break;case 45:n="circle at top right";break;case 90:n="circle at right";break;case 135:n="circle at bottom right";break;case 180:n="circle at bottom";break;case 225:n="circle at bottom left";break;case 270:n="circle at left";break;case 315:n="circle at top left"}t="radial-gradient("+[n,r+" 1%",c+" 99%"].join(", ")+")"}break;case"image":i=this.getChecked(this.inputs.repeats).value,r=this.getChecked(this.inputs.positions).value,c=this.getChecked(this.inputs.sizes).value,t="url("+this.imagePreview.src+") "+i+" "+r+" / "+c}return t}},e.CPicker=l}(),n}));